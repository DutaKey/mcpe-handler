#include <string.h>

extern void _WasmSend(int socketId, int sendAddrPtr, int sendAddrLen, int dataPtr, int dataLength);

RNS2BindResult RNS2_NodeWASM::Bind(NWBindParameters *bindParameters) {
  this->socketId = bindParameters->socketId;
  // no op
  return RNS2_BIND_SUCCESS;
}


RNS2SendResult RNS2_NodeWASM::Send(RNS2_SendParameters *sendParameters, const char *file, unsigned int line) {
  auto sendAddress = sendParameters->systemAddress;
  auto sendAddressStr = sendAddress.ToString();
  _WasmSend(this->socketId, sendAddressStr, strlen(sendAddressStr), sendParameters->data, sendParameters->length);
}

void RNS2_NodeWASM::GetMyIP(SystemAddress addresses[MAXIMUM_NUMBER_OF_INTERNAL_IDS]) {
  // no op
}

void RNS2_NodeWASM::DomainNameToIP(const char *domainName, char ip[65]) {
  // no op
}